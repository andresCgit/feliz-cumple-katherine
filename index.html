<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestra Historia ‚ú®</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .story-section {
            background: rgba(255, 255, 255, 0.95);
            margin: 20px 0;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .story-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .story-text {
            font-size: 1.2em;
            line-height: 1.8;
            color: #333;
            text-align: center;
            margin: 20px 0;
        }

        .emoji-illustration {
            font-size: 4em;
            text-align: center;
            margin: 20px 0;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .heart-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            color: #ff6b9d;
            font-size: 20px;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .music-control:hover {
            transform: scale(1.1);
        }

        .secret-section {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            text-align: center;
            display: none;
        }

        .secret-input {
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #ff6b9d;
            border-radius: 10px;
            margin: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
        }

        .unlock-btn {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .unlock-btn:hover {
            transform: scale(1.05);
        }

        .love-letter {
            background: #fff8e1;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            font-family: 'Courier New', monospace;
            line-height: 2;
            color: #5d4037;
            position: relative;
            display: none;
        }

        .love-letter::before {
            content: "üíå";
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 30px;
            background: white;
            border-radius: 50%;
            padding: 10px;
        }

        .signature {
            text-align: right;
            margin-top: 30px;
            font-style: italic;
            color: #8d6e63;
        }

        .continue-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .continue-btn:hover {
            transform: scale(1.05);
        }

        .sparkle {
            display: inline-block;
            animation: sparkle 1.5s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b9d, #4ecdc4);
            transition: width 0.3s ease;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    <div class="heart-rain" id="heartRain"></div>
    
    <button class="music-control" id="musicBtn" onclick="toggleMusic()">üéµ</button>

    <div class="container">
        <!-- Introducci√≥n -->
        <div class="story-section" id="section1">
            <div class="emoji-illustration">üéÇ‚ú®üíñ</div>
            <div class="story-text">
                <h1>¬°Feliz Cumplea√±os Katherine! üéâ</h1>
                <p>Hoy es un d√≠a especial porque hace exactamente 24 a√±os lleg√≥ al mundo la mujer m√°s incre√≠ble que conozco...</p>
                <p>Como buen estudiante de Ingenier√≠a de Sistemas, decid√≠ crear algo especial para ti. Esta es <span class="sparkle">‚ú® nuestra historia ‚ú®</span> contada desde el coraz√≥n.</p>
            </div>
            <button class="continue-btn" onclick="showNext(2)">Continuar la historia ‚Üí</button>
        </div>

        <!-- Cap√≠tulo 1: El Encuentro -->
        <div class="story-section" id="section2">
            <div class="emoji-illustration">üíù‚ù§Ô∏èüòç</div>
            <div class="story-text">
                <h2>El D√≠a que mi Algoritmo de Amor se Activ√≥</h2>
                <p>Doy gracias a Dios todos los d√≠as por haberte conocido, Katherine Salvatierra...</p>
                <p>Desde ese momento supe que t√∫ ser√≠as la <span class="sparkle">‚ú® variable principal ‚ú®</span> de todos mis sistemas. En un mundo lleno de constantes, t√∫ eres mi din√°mica favorita üíï</p>
                <p>Y aunque al principio no sab√≠a si hacer commit de mis sentimientos... ¬°ya no hab√≠a vuelta atr√°s!</p>
            </div>
            <button class="continue-btn" onclick="showNext(3)">Descubrir m√°s ‚Üí</button>
        </div>

        <!-- Cap√≠tulo 2: Los Momentos -->
        <div class="story-section" id="section3">
            <div class="emoji-illustration">üòÇü•∞ü§™</div>
            <div class="story-text">
                <h2>Los Momentos M√°s Hermosos</h2>
                <p>Te quiero hasta cuando no te ba√±as üòÇ Amo tus peditos que suenan como melod√≠as √∫nicas y tus eructos que rivalizan con cualquier sinfon√≠a.</p>
                <p>Nuestras risas compartidas, esos momentos donde nos carcajeamos por cualquier tonter√≠a... Como cuando t√∫ cuidas a tus pacientes con tanto amor, t√∫ cuidas mi coraz√≥n con la misma <span class="sparkle">‚ú® ternura ‚ú®</span> de enfermera.</p>
                <p>Si fuera un programador experto, tu sonrisa ser√≠a lo primero que quiero ejecutar todos los d√≠as.</p>
            </div>
            <button class="continue-btn" onclick="showNext(4)">Continuar ‚Üí</button>
        </div>

        <!-- Cap√≠tulo 3: El Crecimiento -->
        <div class="story-section" id="section4">
            <div class="emoji-illustration">üåßÔ∏èüåàüíó</div>
            <div class="story-text">
                <h2>Sanando Juntos los Corazones</h2>
                <p>Como en la vida, no todo han sido momentos de pura felicidad... Tambi√©n hemos tenido nuestros d√≠as grises donde la tristeza nos visit√≥ üò¢</p>
                <p>Pero como t√∫ sabes mejor que nadie siendo enfermera, las heridas sanan con amor, paciencia y cuidado. Cada momento triste que pasamos juntos nos hizo m√°s fuertes, m√°s unidos, m√°s enamorados.</p>
                <p>T√∫ has sido mi <span class="sparkle">‚ú® medicina favorita ‚ú®</span> - siempre sabes c√≥mo curar mis dolores con tu amor y tu sonrisa.</p>
            </div>
            <button class="continue-btn" onclick="showNext(5)">Ver el presente ‚Üí</button>
        </div>

        <!-- Cap√≠tulo 4: El Ahora -->
        <div class="story-section" id="section5">
            <div class="emoji-illustration">üéÇüëëüéâ</div>
            <div class="story-text">
                <h2>Hoy: Tu D√≠a Especial</h2>
                <p>¬°Y aqu√≠ estamos! En tu cumplea√±os n√∫mero 24, y yo tengo el privilegio de celebrarlo a tu lado ü•≥</p>
                <p>Hoy t√∫ eres el centro de atenci√≥n (como debe ser), pero perm√≠teme compilar todos mis sentimientos en este regalo hecho con mucho amor y algunas l√≠neas de c√≥digo.</p>
                <p>Si mi coraz√≥n fuera un repositorio, t√∫ tendr√≠as acceso de <span class="sparkle">‚ú® administradora ‚ú®</span> para siempre üíñ</p>
                <p>¬øLista para ver el mensaje, mi cumplea√±era favorita?</p>
            </div>
            <button class="continue-btn" onclick="showSecret()">Desbloquear mi regalo üéÅ</button>
        </div>

        <!-- Secci√≥n Secreta -->
        <div class="story-section secret-section" id="secretSection">
            <div class="emoji-illustration">üîêüíïüóùÔ∏è</div>
            <h2>¬øC√≥mo me dices con cari√±o?</h2>
            <p>Introduce esa palabra especial que solo t√∫ y yo conocemos... üòè</p>
            <input type="text" class="secret-input" id="secretKey" placeholder="Tu apodo favorito para m√≠...">
            <br>
            <button class="unlock-btn" onclick="checkSecret()">Desbloquear Carta üíå</button>
            <p id="errorMsg" style="color: #c44569; margin-top: 10px;"></p>
        </div>

        <!-- Carta de Amor -->
        <div class="story-section love-letter" id="loveLetter">
            <h2 style="text-align: center; color: #8d6e63; margin-bottom: 30px;">üíå Para Katherine en su Cumplea√±os üíå</h2>
            <p>Mi amor, mi vida, mi cumplea√±era hermosa,</p>
            <br>
            <p>Si est√°s leyendo esto, significa que desbloqueaste mi regalo especial. Como buen estudiante de Ingenier√≠a de Sistemas, quise crear algo √∫nico que combinara mi amor por ti con mi pasi√≥n por lo que estudio.</p>
            <br>
            <p>Katherine Salvatierra, hoy cumples 24 a√±os y yo no puedo estar m√°s feliz de celebrar este d√≠a a tu lado. Cada d√≠a doy gracias a Dios por haberte puesto en mi camino.</p>
            <br>
            <p>Eres la funci√≥n m√°s importante de mi vida - sin ti, mi programa no ejecutar√≠a correctamente. En mi base de datos personal, tu felicidad tiene la prioridad m√°s alta, y tu sonrisa es mi output favorito.</p>
            <br>
            <p>Te amo con todas mis peculiaridades: amo cuando te despiertas despeinada, cuando nos abrazamos hasta dormirnos y comemos hasta reventar, y s√≠... incluso amo esos ruiditos raros que haces y que nadie m√°s escucha.</p>
            <br>
            <p>Hemos re√≠do juntos hasta que nos doli√≥ la panza, hemos llorado juntos en los momentos dif√≠ciles, y hemos creado los recuerdos m√°s hermosos que guardo en mi coraz√≥n como si fuera mi memoria RAM m√°s preciada.</p>
            <br>
            <p>En este d√≠a tan especial, quiero que sepas que mi amor por ti no tiene errores, no necesita reparaciones, y viene con mi coraz√≥n entero para toda la vida. Eres la luz que ilumina mis d√≠as, el abrazo que necesito cuando estoy triste, y la raz√≥n por la que sonr√≠o cada ma√±ana.</p>
            <br>
            <p>Tu amor es como el cuidado que das a tus pacientes: tierno, dedicado, sanador. Pero a m√≠ me das mucho m√°s que eso, me das tu alma completa, tus risas, tus sue√±os, y esa manera √∫nica que tienes de hacer que todo sea mejor.</p>
            <br>
            <p>¬°FELIZ CUMPLEA√ëOS MI AMOR! Que este nuevo a√±o de vida est√© lleno de alegr√≠a, aventuras, y muchos momentos m√°s para seguir siendo felices juntos.</p>
            <br>
            <div class="signature">
                Con todo mi amor y algunas l√≠neas de c√≥digo,<br>
                <span style="font-size: 1.2em;">‚ù§Ô∏è El amor de tu vida ‚ù§Ô∏è</span><br>
                <small>P.D: Este regalo no requiere instalaci√≥n, pero s√≠ requiere muchos besos üòò</small>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        let musicPlaying = false;
        let audioContext;
        let musicInterval;

        // Crear lluvia de corazones
        function createHeartRain() {
            const heartRain = document.getElementById('heartRain');
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üíñ';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                heartRain.appendChild(heart);

                setTimeout(() => {
                    heart.remove();
                }, 5000);
            }, 300);
        }

        // Mostrar siguiente secci√≥n
        function showNext(sectionNum) {
            document.getElementById(`section${sectionNum}`).classList.add('visible');
            updateProgress(sectionNum);
            
            // Scroll suave a la nueva secci√≥n
            setTimeout(() => {
                document.getElementById(`section${sectionNum}`).scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }, 100);
        }

        // Mostrar secci√≥n secreta
        function showSecret() {
            document.getElementById('secretSection').style.display = 'block';
            document.getElementById('secretSection').classList.add('visible');
            document.getElementById('secretSection').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }

        // Verificar clave secreta
        function checkSecret() {
            const input = document.getElementById('secretKey').value.toLowerCase().trim();
            const errorMsg = document.getElementById('errorMsg');
            
            // Aqu√≠ puedes personalizar las claves que funcionar√°n
            const validKeys = ['amor', 'cari√±o', 'coraz√≥n', 'mi vida', 'beb√©', 'tesoro', 'princesa', 'cielo', 'angel', 'gordo', 'flaco', 'mi rey', 'papi', 'mami', 'vida'];
            
            if (validKeys.some(key => input.includes(key)) || input.length > 3) {
                document.getElementById('loveLetter').style.display = 'block';
                document.getElementById('loveLetter').classList.add('visible');
                document.getElementById('secretSection').style.display = 'none';
                updateProgress(6);
                
                setTimeout(() => {
                    document.getElementById('loveLetter').scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 100);
            } else {
                errorMsg.textContent = 'Mmm... intenta de nuevo. Piensa en c√≥mo me dices cuando est√°s de buen humor üíï';
            }
        }

        // Actualizar barra de progreso
        function updateProgress(section) {
            const progress = (section / 6) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // M√∫sica simple con Web Audio API
        function createSimpleMusic() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }

            const notes = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88]; // Do, Re, Mi, Fa, Sol, La, Si
            let noteIndex = 0;

            musicInterval = setInterval(() => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.setValueAtTime(notes[noteIndex], audioContext.currentTime);
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1);

                noteIndex = (noteIndex + 1) % notes.length;
            }, 1000);
        }

        // Controlar m√∫sica
        function toggleMusic() {
            const btn = document.getElementById('musicBtn');
            if (musicPlaying) {
                clearInterval(musicInterval);
                btn.innerHTML = 'üéµ';
                musicPlaying = false;
            } else {
                createSimpleMusic();
                btn.innerHTML = 'üîá';
                musicPlaying = true;
            }
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar primera secci√≥n
            document.getElementById('section1').classList.add('visible');
            updateProgress(1);
            
            // Iniciar lluvia de corazones
            createHeartRain();
            
            // Permitir Enter en el input
            document.getElementById('secretKey').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkSecret();
                }
            });
        });
    </script>
</body>
</html>