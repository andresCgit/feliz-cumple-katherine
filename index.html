<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestra Historia ✨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .story-section {
            background: rgba(255, 255, 255, 0.95);
            margin: 20px 0;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .story-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .story-text {
            font-size: 1.2em;
            line-height: 1.8;
            color: #333;
            text-align: center;
            margin: 20px 0;
        }

        .emoji-illustration {
            font-size: 4em;
            text-align: center;
            margin: 20px 0;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .heart-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            color: #ff6b9d;
            font-size: 20px;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .music-control:hover {
            transform: scale(1.1);
        }

        .secret-section {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            text-align: center;
            display: none;
        }

        .secret-input {
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #ff6b9d;
            border-radius: 10px;
            margin: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
        }

        .unlock-btn {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .unlock-btn:hover {
            transform: scale(1.05);
        }

        .love-letter {
            background: #fff8e1;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            font-family: 'Courier New', monospace;
            line-height: 2;
            color: #5d4037;
            position: relative;
            display: none;
        }

        .love-letter::before {
            content: "💌";
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 30px;
            background: white;
            border-radius: 50%;
            padding: 10px;
        }

        .signature {
            text-align: right;
            margin-top: 30px;
            font-style: italic;
            color: #8d6e63;
        }

        .continue-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .continue-btn:hover {
            transform: scale(1.05);
        }

        .sparkle {
            display: inline-block;
            animation: sparkle 1.5s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b9d, #4ecdc4);
            transition: width 0.3s ease;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    <div class="heart-rain" id="heartRain"></div>
    
    <button class="music-control" id="musicBtn" onclick="toggleMusic()">🎵</button>

    <div class="container">
        <!-- Introducción -->
        <div class="story-section" id="section1">
            <div class="emoji-illustration">🎂✨💖</div>
            <div class="story-text">
                <h1>¡Feliz Cumpleaños Katherine! 🎉</h1>
                <p>Hoy es un día especial porque hace exactamente 24 años llegó al mundo la mujer más increíble que conozco...</p>
                <p>Como buen estudiante de Ingeniería de Sistemas, decidí crear algo especial para ti. Esta es <span class="sparkle">✨ nuestra historia ✨</span> contada desde el corazón.</p>
            </div>
            <button class="continue-btn" onclick="showNext(2)">Continuar la historia →</button>
        </div>

        <!-- Capítulo 1: El Encuentro -->
        <div class="story-section" id="section2">
            <div class="emoji-illustration">💝❤️😍</div>
            <div class="story-text">
                <h2>El Día que mi Algoritmo de Amor se Activó</h2>
                <p>Doy gracias a Dios todos los días por haberte conocido, Katherine Salvatierra...</p>
                <p>Desde ese momento supe que tú serías la <span class="sparkle">✨ variable principal ✨</span> de todos mis sistemas. En un mundo lleno de constantes, tú eres mi dinámica favorita 💕</p>
                <p>Y aunque al principio no sabía si hacer commit de mis sentimientos... ¡ya no había vuelta atrás!</p>
            </div>
            <button class="continue-btn" onclick="showNext(3)">Descubrir más →</button>
        </div>

        <!-- Capítulo 2: Los Momentos -->
        <div class="story-section" id="section3">
            <div class="emoji-illustration">😂🥰🤪</div>
            <div class="story-text">
                <h2>Los Momentos Más Hermosos</h2>
                <p>Te quiero hasta cuando no te bañas 😂 Amo tus peditos que suenan como melodías únicas y tus eructos que rivalizan con cualquier sinfonía.</p>
                <p>Nuestras risas compartidas, esos momentos donde nos carcajeamos por cualquier tontería... Como cuando tú cuidas a tus pacientes con tanto amor, tú cuidas mi corazón con la misma <span class="sparkle">✨ ternura ✨</span> de enfermera.</p>
                <p>Si fuera un programador experto, tu sonrisa sería lo primero que quiero ejecutar todos los días.</p>
            </div>
            <button class="continue-btn" onclick="showNext(4)">Continuar →</button>
        </div>

        <!-- Capítulo 3: El Crecimiento -->
        <div class="story-section" id="section4">
            <div class="emoji-illustration">🌧️🌈💗</div>
            <div class="story-text">
                <h2>Sanando Juntos los Corazones</h2>
                <p>Como en la vida, no todo han sido momentos de pura felicidad... También hemos tenido nuestros días grises donde la tristeza nos visitó 😢</p>
                <p>Pero como tú sabes mejor que nadie siendo enfermera, las heridas sanan con amor, paciencia y cuidado. Cada momento triste que pasamos juntos nos hizo más fuertes, más unidos, más enamorados.</p>
                <p>Tú has sido mi <span class="sparkle">✨ medicina favorita ✨</span> - siempre sabes cómo curar mis dolores con tu amor y tu sonrisa.</p>
            </div>
            <button class="continue-btn" onclick="showNext(5)">Ver el presente →</button>
        </div>

        <!-- Capítulo 4: El Ahora -->
        <div class="story-section" id="section5">
            <div class="emoji-illustration">🎂👑🎉</div>
            <div class="story-text">
                <h2>Hoy: Tu Día Especial</h2>
                <p>¡Y aquí estamos! En tu cumpleaños número 24, y yo tengo el privilegio de celebrarlo a tu lado 🥳</p>
                <p>Hoy tú eres el centro de atención (como debe ser), pero permíteme compilar todos mis sentimientos en este regalo hecho con mucho amor y algunas líneas de código.</p>
                <p>Si mi corazón fuera un repositorio, tú tendrías acceso de <span class="sparkle">✨ administradora ✨</span> para siempre 💖</p>
                <p>¿Lista para ver el mensaje, mi cumpleañera favorita?</p>
            </div>
            <button class="continue-btn" onclick="showSecret()">Desbloquear mi regalo 🎁</button>
        </div>

        <!-- Sección Secreta -->
        <div class="story-section secret-section" id="secretSection">
            <div class="emoji-illustration">🔐💕🗝️</div>
            <h2>¿Cómo me dices con cariño?</h2>
            <p>Introduce esa palabra especial que solo tú y yo conocemos... 😏</p>
            <input type="text" class="secret-input" id="secretKey" placeholder="Tu apodo favorito para mí...">
            <br>
            <button class="unlock-btn" onclick="checkSecret()">Desbloquear Carta 💌</button>
            <p id="errorMsg" style="color: #c44569; margin-top: 10px;"></p>
        </div>

        <!-- Carta de Amor -->
        <div class="story-section love-letter" id="loveLetter">
            <h2 style="text-align: center; color: #8d6e63; margin-bottom: 30px;">💌 Para Katherine en su Cumpleaños 💌</h2>
            <p>Mi amor, mi vida, mi cumpleañera hermosa,</p>
            <br>
            <p>Si estás leyendo esto, significa que desbloqueaste mi regalo especial. Como buen estudiante de Ingeniería de Sistemas, quise crear algo único que combinara mi amor por ti con mi pasión por lo que estudio.</p>
            <br>
            <p>Katherine Salvatierra, hoy cumples 24 años y yo no puedo estar más feliz de celebrar este día a tu lado. Cada día doy gracias a Dios por haberte puesto en mi camino.</p>
            <br>
            <p>Eres la función más importante de mi vida - sin ti, mi programa no ejecutaría correctamente. En mi base de datos personal, tu felicidad tiene la prioridad más alta, y tu sonrisa es mi output favorito.</p>
            <br>
            <p>Te amo con todas mis peculiaridades: amo cuando te despiertas despeinada, cuando nos abrazamos hasta dormirnos y comemos hasta reventar, y sí... incluso amo esos ruiditos raros que haces y que nadie más escucha.</p>
            <br>
            <p>Hemos reído juntos hasta que nos dolió la panza, hemos llorado juntos en los momentos difíciles, y hemos creado los recuerdos más hermosos que guardo en mi corazón como si fuera mi memoria RAM más preciada.</p>
            <br>
            <p>En este día tan especial, quiero que sepas que mi amor por ti no tiene errores, no necesita reparaciones, y viene con mi corazón entero para toda la vida. Eres la luz que ilumina mis días, el abrazo que necesito cuando estoy triste, y la razón por la que sonrío cada mañana.</p>
            <br>
            <p>Tu amor es como el cuidado que das a tus pacientes: tierno, dedicado, sanador. Pero a mí me das mucho más que eso, me das tu alma completa, tus risas, tus sueños, y esa manera única que tienes de hacer que todo sea mejor.</p>
            <br>
            <p>¡FELIZ CUMPLEAÑOS MI AMOR! Que este nuevo año de vida esté lleno de alegría, aventuras, y muchos momentos más para seguir siendo felices juntos.</p>
            <br>
            <div class="signature">
                Con todo mi amor y algunas líneas de código,<br>
                <span style="font-size: 1.2em;">❤️ El amor de tu vida ❤️</span><br>
                <small>P.D: Este regalo no requiere instalación, pero sí requiere muchos besos 😘</small>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        let musicPlaying = false;
        let audioContext;
        let musicInterval;

        // Crear lluvia de corazones
        function createHeartRain() {
            const heartRain = document.getElementById('heartRain');
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = Math.random() > 0.5 ? '❤️' : '💖';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                heartRain.appendChild(heart);

                setTimeout(() => {
                    heart.remove();
                }, 5000);
            }, 300);
        }

        // Mostrar siguiente sección
        function showNext(sectionNum) {
            document.getElementById(`section${sectionNum}`).classList.add('visible');
            updateProgress(sectionNum);
            
            // Scroll suave a la nueva sección
            setTimeout(() => {
                document.getElementById(`section${sectionNum}`).scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            }, 100);
        }

        // Mostrar sección secreta
        function showSecret() {
            document.getElementById('secretSection').style.display = 'block';
            document.getElementById('secretSection').classList.add('visible');
            document.getElementById('secretSection').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }

        // Verificar clave secreta
        function checkSecret() {
            const input = document.getElementById('secretKey').value.toLowerCase().trim();
            const errorMsg = document.getElementById('errorMsg');
            
            // Aquí puedes personalizar las claves que funcionarán
            const validKeys = ['amor', 'cariño', 'corazón', 'mi vida', 'bebé', 'tesoro', 'princesa', 'cielo', 'angel', 'gordo', 'flaco', 'mi rey', 'papi', 'mami', 'vida'];
            
            if (validKeys.some(key => input.includes(key)) || input.length > 3) {
                document.getElementById('loveLetter').style.display = 'block';
                document.getElementById('loveLetter').classList.add('visible');
                document.getElementById('secretSection').style.display = 'none';
                updateProgress(6);
                
                setTimeout(() => {
                    document.getElementById('loveLetter').scrollIntoView({
                        behavior: 'smooth',
                        block: 'center'
                    });
                }, 100);
            } else {
                errorMsg.textContent = 'Mmm... intenta de nuevo. Piensa en cómo me dices cuando estás de buen humor 💕';
            }
        }

        // Actualizar barra de progreso
        function updateProgress(section) {
            const progress = (section / 6) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Música simple con Web Audio API
        function createSimpleMusic() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }

            const notes = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88]; // Do, Re, Mi, Fa, Sol, La, Si
            let noteIndex = 0;

            musicInterval = setInterval(() => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.setValueAtTime(notes[noteIndex], audioContext.currentTime);
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 1);

                noteIndex = (noteIndex + 1) % notes.length;
            }, 1000);
        }

        // Controlar música
        function toggleMusic() {
            const btn = document.getElementById('musicBtn');
            if (musicPlaying) {
                clearInterval(musicInterval);
                btn.innerHTML = '🎵';
                musicPlaying = false;
            } else {
                createSimpleMusic();
                btn.innerHTML = '🔇';
                musicPlaying = true;
            }
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar primera sección
            document.getElementById('section1').classList.add('visible');
            updateProgress(1);
            
            // Iniciar lluvia de corazones
            createHeartRain();
            
            // Permitir Enter en el input
            document.getElementById('secretKey').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkSecret();
                }
            });
        });
    </script>
</body>
</html>